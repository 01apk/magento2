<?xml version="1.0" encoding="utf-8"?>
<!--
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
 -->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../../../../../vendor/magento/mtf/etc/global/variations.xsd">
  <testCase name="CreateCategoryRewriteEntityTest">
    <variation name="CreateCategoryRewriteEntityTestVariation1" firstConstraint="assertUrlRewriteSaveMessage" method="test">
      <data name="description">MAGETWO-12407: Add Permanent Redirect for Category</data>
      <data name="urlRewrite/data/entity_type">For category</data>
      <data name="urlRewrite/data/store_id">Main Website/Main Website Store/Default Store View</data>
      <data name="urlRewrite/data/request_path">cat%isolation%-redirect.html</data>
      <data name="urlRewrite/data/redirect_type">Permanent (301)</data>
      <data name="urlRewrite/data/description">End-to-end test</data>
      <data name="tag">bamboo_plan:end_to_end,test_type:acceptance_test</data>
      <constraint name="assertUrlRewriteSaveMessage" next="assertUrlRewriteCategoryRedirect"/>
      <constraint name="assertUrlRewriteCategoryRedirect" prev="assertUrlRewriteSaveMessage"/>
    </variation>
    <variation name="CreateCategoryRewriteEntityTestVariation2" firstConstraint="assertUrlRewriteSaveMessage" method="test">
      <data name="description">Create Category URL Rewrites with no redirect</data>
      <data name="urlRewrite/data/entity_type">For category</data>
      <data name="urlRewrite/data/store_id">Main Website/Main Website Store/Default Store View</data>
      <data name="urlRewrite/data/request_path">test_request%isolation%</data>
      <data name="urlRewrite/data/redirect_type">No</data>
      <data name="urlRewrite/data/description">test description</data>
      <constraint name="assertUrlRewriteSaveMessage" next="assertUrlRewriteInGrid"/>
      <constraint name="assertUrlRewriteInGrid" prev="assertUrlRewriteSaveMessage"/>
    </variation>
    <variation name="CreateCategoryRewriteEntityTestVariation3" firstConstraint="assertUrlRewriteSaveMessage" method="test">
      <data name="description">Create Category URL Rewrites with Temporary redirect</data>
      <data name="urlRewrite/data/entity_type">For category</data>
      <data name="urlRewrite/data/store_id">Main Website/Main Website Store/Default Store View</data>
      <data name="urlRewrite/data/request_path">request_path%isolation%</data>
      <data name="urlRewrite/data/redirect_type">Temporary (302)</data>
      <data name="urlRewrite/data/description">test description</data>
      <constraint name="assertUrlRewriteSaveMessage" next="assertUrlRewriteInGrid"/>
      <constraint name="assertUrlRewriteInGrid" next="assertUrlRewriteCategoryRedirect" prev="assertUrlRewriteSaveMessage"/>
      <constraint name="assertUrlRewriteCategoryRedirect" prev="assertUrlRewriteInGrid"/>
    </variation>
    <variation name="CreateCategoryRewriteEntityTestVariation4" firstConstraint="assertUrlRewriteSaveMessage" method="test">
      <data name="description">Create Category URL Rewrites with Permanent redirect</data>
      <data name="urlRewrite/data/entity_type">For category</data>
      <data name="urlRewrite/data/store_id">Main Website/Main Website Store/Default Store View</data>
      <data name="urlRewrite/data/request_path">request_path%isolation%</data>
      <data name="urlRewrite/data/redirect_type">Permanent (301)</data>
      <data name="urlRewrite/data/description">test description</data>
      <constraint name="assertUrlRewriteSaveMessage" next="assertUrlRewriteInGrid"/>
      <constraint name="assertUrlRewriteInGrid" next="assertUrlRewriteCategoryRedirect" prev="assertUrlRewriteSaveMessage"/>
      <constraint name="assertUrlRewriteCategoryRedirect" prev="assertUrlRewriteInGrid"/>
    </variation>
  </testCase>
</config>
