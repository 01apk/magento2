<?php
/**
 * {license_notice}
 *
 * @copyright   {copyright}
 * @license     {license_link}
 */
?>

<div class="opc-wrapper">
    <ol class="opc" id="checkout" data-bind="scope:'checkout'">
        <!-- ko template: getTemplate() --><!-- /ko -->
        <script type="text/x-magento-init">
            {
                "#checkout": {
                    "Magento_Ui/js/core/app": <?php echo $this->getJsLayout();?>
                }
            }
        </script>
        <script>
            window.customerData = <?php echo $this->getCustomerData(); ?>;
            window.cartData = <?php echo $this->getCart(); ?>;
            window.isLoggedIn = <?php echo $this->isCustomerLoggedIn() ? 'true' : 'false' ?>;
            window.currencySymbol = <?php echo $this->getCurrencySymbol()?>;
        </script>
        <script>
            require(['mage/url', 'Magento_Checkout/js/model/step-loader'], function(url, loader) {
                loader.registerLoader();
                return url.setBaseUrl('<?php echo $this->getBaseUrl();?>');
            })
        </script>
    </ol>
</div>
