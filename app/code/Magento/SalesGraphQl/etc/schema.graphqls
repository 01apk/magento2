# Copyright Â© Magento, Inc. All rights reserved.
# See COPYING.txt for license details.

type Query {
    customerOrders: CustomerOrders @resolver(class: "Magento\\SalesGraphQl\\Model\\Resolver\\Orders") @doc(description: "List of customer orders") @cache(cacheable: false)
}

type CustomerOrder @doc(description: "Order mapping fields") {
    id: Int
    increment_id: String @deprecated(reason: "Use the order_number instead.")
    order_number: String! @doc(description: "The order number")
    created_at: String
    grand_total: Float
    status: String
}

type CustomerOrders {
    items: [CustomerOrder] @doc(description: "Array of orders")
}

type Mutation {
    reorderItems(orderNumber: String!): ReorderItemsOutput @doc(description:"Add all the products from Customer order to the Cart") @resolver(class: "Magento\\SalesGraphQl\\Model\\Resolver\\Reorder")
}

type ReorderItemsOutput {
    cart: Cart!
    userInputErrors:[CheckoutUserInputError]!
}

type CheckoutUserInputError {
    message: String! @doc(description: "Localized error message")
    path: [String]! @doc(description: "Path to the input field which caused an error. Similar to how GraphQL specification defines path for errors in query: http://spec.graphql.org/draft/#sec-Errors")
    code: CheckoutUserInputErrorCodes! @doc(description: "Checkout-specific error code")
}

enum CheckoutUserInputErrorCodes {
    REORDER_NOT_AVAILABLE
    PRODUCT_NOT_FOUND
    NOT_SALABLE
    INSUFFICIENT_STOCK
    UNDEFINED
}