<?xml version="1.0"?>
<!--
/**
 * Copyright Â© 2015 Magento. All rights reserved.
 * See COPYING.txt for license details.
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../../../app/code/Magento/Ui/etc/data_source.xsd">
    <dataSource
            name="account" label="Account Information"
            dataSet="Magento\Customer\Model\Resource\Customer\Collection">
        <!--primaryFieldName="entity_id"-->
        <fields entityType="customer">
            <field name="entity_id" dataType="text" visible="false"/>
            <field name="default_billing" source="eav" dataType="boolean" visible="false"/>
            <field name="default_shipping" source="eav" dataType="boolean" visible="false"/>
            <field name="website_id" dataType="number" formElement="select" source="eav" label="Associate to Website">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
                <tooltip>
                    <link>http://www.magentocommerce.com/knowledge-base/entry/understanding-store-scopes</link>
                    <description>If your Magento site has multiple views, you can set the scope to apply to a specific view.</description>
                </tooltip>
            </field>
            <field name="prefix" source="eav" dataType="text"/>
            <field name="group_id" dataType="number" formElement="select" source="eav" label="Group" fieldGroup="group_id" />
            <field name="disable_auto_group_change" source="eav" dataType="boolean" formElement="checkbox" fieldGroup="group_id"/>
            <field name="firstname" source="eav" dataType="text">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="middlename" source="eav" dataType="text"/>
            <field name="lastname" source="eav" dataType="text">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="suffix" source="eav" dataType="text"/>
            <field name="email" source="eav" formElement="email">
                <constraints>
                    <validate name="required-entry"/>
                    <validate name="validate-email"/>
                </constraints>
            </field>
            <field name="dob" source="eav" dataType="text" label="Date Of Birth" formElement="date"/>
            <field name="taxvat" source="eav" dataType="text" label="Tax VAT Number"/>
            <field name="gender" source="eav" dataType="text" formElement="select"/>
            <field name="sendemail"
                   dataType="boolean"
                   formElement="checkbox"
                   label="Welcome Email"
                   description="Send a Welcome email "/>
            <field name="sendemail_store_id"
                   dataType="number"
                   formElement="select"
                   optionProvider="Magento\Store\Model\System\Store::getStoreValuesForForm"
                   label="Send From"/>
        </fields>
    </dataSource>
    <dataSource name="customer_address"
                label="Customer Address"
                dataSet="Magento\Customer\Model\Resource\Address\Collection">
        <fields entityType="customer_address">
            <field name="parent_id" dataType="number" visible="false"/>
            <field name="prefix" source="eav"/>
            <field name="firstname" source="eav">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="middlename" source="eav"/>
            <field name="lastname" source="eav">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="suffix" source="eav"/>
            <field name="company" source="eav" label="Company"/>
            <field name="street" dataType="text" formElement="input" size="2" source="eav">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="city" source="eav">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="country_id" source="eav" formElement="select">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="region_id" source="eav" formElement="select" customEntry="region">
                <constraints>
                    <validate name="required-entry"/>
                    <filter on="{parentScope}.country_id" by="country_id" />
                </constraints>
            </field>
            <field name="region" source="eav" formElement="input" visible="false"/>
            <field name="postcode" source="eav">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="telephone" source="eav" label="Phone Number">
                <constraints>
                    <validate name="required-entry"/>
                </constraints>
            </field>
            <field name="fax" source="eav" label="Fax"/>
            <field name="vat_id" source="eav" label="VAT number"/>
            <field name="default_billing" source="reference" dataType="boolean" formElement="checkbox"
                   displayArea="head" description="Default Billing Address" uniqueNs="default_billing" uniqueProp="value">
                <reference target="account"
                           referencedField="parent_id"
                           targetField="entity_id"
                           neededField="default_billing"
                        />
            </field>
            <field name="default_shipping" source="reference" dataType="boolean" formElement="checkbox"
                   displayArea="head" description="Default Shipping Address" uniqueNs="default_shipping" uniqueProp="value">
                <reference target="account"
                           referencedField="parent_id"
                           targetField="entity_id"
                           neededField="default_shipping"
                        />
            </field>
        </fields>
        <references>
            <reference target="account"
                       referencedField="parent_id"
                       targetField="entity_id"
                    />
        </references>
    </dataSource>
    <dataSource name="customer_group" label="Customer Group" dataSet="Magento\Customer\Model\Resource\Group\Collection">
        <fields>
            <field name="customer_group_id" dataType="number" visible="false"/>
            <field name="customer_group_code" dataType="text"/>
        </fields>
    </dataSource>
</config>