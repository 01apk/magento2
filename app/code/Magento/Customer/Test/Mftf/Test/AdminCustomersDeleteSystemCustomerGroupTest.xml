<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->
<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/testSchema.xsd">
    <test name="AdminCustomersDeleteSystemCustomerGroupTest">
        <annotations>
            <features value="Customer"/>
            <title value="System Customer Groups"/>
            <description value="Admin should not be able to delete system customer groups"/>
            <group value="customers"/>
            <group value="mtf_migrated"/>
        </annotations>
        <before>
            <actionGroup ref="LoginAsAdmin" stepKey="loginAsAdmin"/>
        </before>
        <after>
            <actionGroup ref="logout" stepKey="logout"/>
        </after>

        <!--Verify Not Logged In customer group-->
        <!--Go to Customer Group grid page-->
        <actionGroup ref="AdminOpenCustomerGroupsGridPageActionGroup" stepKey="openCustomerGroupGridPageToCheckNotLoggedInGroup"/>
        <actionGroup ref="AdminFilterCustomerGroupByNameActionGroup" stepKey="filterCustomerGroupsByNotLoggedInGroup">
            <argument name="customerGroupName" value="{{NotLoggedInCustomerGroup.code}}"/>
        </actionGroup>
        <actionGroup ref="AdminOpenCustomerGroupEditPageFromGridActionGroup" stepKey="openNotLoggedInCustomerGroupEditPage">
            <argument name="groupCode" value="{{NotLoggedInCustomerGroup.code}}"/>
        </actionGroup>
        <actionGroup ref="AssertDeleteCustomerGroupButtonMissingActionGroup" stepKey="verifyThereIsNoDeleteButtonForNotLoggedInGroup"/>

        <!--Verify General customer group-->
        <!--Go to Customer Group grid page-->
        <actionGroup ref="AdminOpenCustomerGroupsGridPageActionGroup" stepKey="openCustomerGroupGridPageToCheckGeneralGroup"/>
        <actionGroup ref="AdminFilterCustomerGroupByNameActionGroup" stepKey="filterCustomerGroupsByGeneralGroup">
            <argument name="customerGroupName" value="{{GeneralCustomerGroup.code}}"/>
        </actionGroup>
        <actionGroup ref="AdminOpenCustomerGroupEditPageFromGridActionGroup" stepKey="openGeneralCustomerGroupEditPage">
            <argument name="groupCode" value="{{GeneralCustomerGroup.code}}"/>
        </actionGroup>
        <actionGroup ref="AssertDeleteCustomerGroupButtonMissingActionGroup" stepKey="verifyThereIsNoDeleteButtonForGeneralGroup"/>
    </test>
</tests>