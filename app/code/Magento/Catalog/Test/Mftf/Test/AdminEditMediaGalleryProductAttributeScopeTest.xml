<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->
<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/testSchema.xsd">
    <test name="AdminEditMediaGalleryProductAttributeScopeTest">
        <annotations>
            <features value="Catalog"/>
            <stories value="MC-38156-Error on changing Media gallery attribute scope back to Global"/>
            <group value="Catalog"/>
            <title value="Admin are not able to change Scope of Media Gallery product attribute"/>
            <description value="Admin are not able to change Scope of Media Gallery product attribute"/>
            <severity value="MAJOR"/>
            <testCaseId value="MC-40774"/>
        </annotations>
        <before>
            <actionGroup ref="AdminLoginActionGroup" stepKey="loginGetFromGeneralFile"/>
        </before>

        <actionGroup ref="AdminOpenProductAttributePageActionGroup" stepKey="navigateToProductAttribute"/>
        <click selector="{{AdminProductAttributeGridSection.ResetFilter}}" stepKey="resetFiltersOnGrid1"/>
        <fillField selector="{{AdminProductAttributeGridSection.GridFilterFrontEndLabel}}" userInput="Media Gallery" stepKey="setAttributeLabel1"/>
        <click selector="{{AdminProductAttributeGridSection.Search}}" stepKey="searchForAttributeFromTheGrid1"/>
        <click selector="{{AdminProductAttributeGridSection.FirstRow}}" stepKey="clickOnAttributeRow1"/>
        <waitForPageLoad stepKey="wait2"/>

        <seeOptionIsSelected selector="{{AttributePropertiesSection.InputType}}" userInput="Gallery" stepKey="seeGallerySelected" />
        <see selector="{{AttributePropertiesSection.InputType}}" userInput="Gallery" stepKey="seeGallerySelected1" />
        <click selector="{{AdvancedAttributePropertiesSection.AdvancedAttributePropertiesSectionToggle}}" stepKey="clickAdvancedAttributePropertiesSectionToggle"/>

        <seeElement selector="{{AdvancedAttributePropertiesSection.Scope}}" stepKey="seeScope" />
        <seeOptionIsSelected selector="{{AdvancedAttributePropertiesSection.Scope}}" userInput="Global" stepKey="seeGlobalScopeSelected" />
        <see selector="{{AdvancedAttributePropertiesSection.Scope}}" userInput="Global" stepKey="seeGlobalScopeSelected1" />

        <seeElement selector="{{AdvancedAttributePropertiesSectionToggle.ScopeDisabled}}" stepKey="seeScopeDisabled" />
        <seeOptionIsSelected selector="{{AdvancedAttributePropertiesSection.ScopeDisabled}}" userInput="Global" stepKey="seeGlobalScopeSelectedDisabled" />
        <see selector="{{AdvancedAttributePropertiesSection.ScopeDisabled}}" userInput="Global" stepKey="seeGlobalScopeSelectedDisabled1" />
    </test>
</tests>

