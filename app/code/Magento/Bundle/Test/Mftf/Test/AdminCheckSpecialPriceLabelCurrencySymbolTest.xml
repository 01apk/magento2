<?xml version="1.0" encoding="UTF-8"?>
<!--
 /**
  * Copyright Â© Magento, Inc. All rights reserved.
  * See COPYING.txt for license details.
  */
-->

<tests xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="urn:magento:mftf:Test/etc/testSchema.xsd">
    <test name="AdminCheckSpecialPriceLabelCurrencySymbolTest">
        <annotations>
            <features value="Bundle"/>
            <stories value="Validate the bundle products special price column in grid should display currency symbol from admin"/>
            <title value="Admin to validate the bundle products special price column in grid should display currency symbol instead of % sign"/>
            <description value="Admin to validate the bundle products special price column in grid should display currency symbol instead of % sign"/>
            <severity value="AVERAGE"/>
            <testCaseId value="AC-1378"/>
            <group value="Bundle"/>
        </annotations>
        <before>
            <!--Admin login-->
            <actionGroup stepKey="loginToAdminPanel" ref="AdminLoginActionGroup"/>
        </before>
        <after>
            <!--Logging out-->
            <actionGroup ref="AdminLogoutActionGroup" stepKey="logout"/>
        </after>
        <!--Go to bundle product creation page-->
        <amOnPage url="{{AdminProductCreatePage.url(BundleProduct.set, BundleProduct.type)}}" stepKey="goToBundleProductCreationPage"/>
        <waitForPageLoad stepKey="waitForBundleProductCreatePageToLoad"/>
        <click selector="{{AdminProductFormSection.advancedPricingLink}}" stepKey="clickAdvancedPricingLink"/>
        <waitForElementVisible selector="{{AdminProductFormAdvancedPricingSection.specialPrice}}" stepKey="waitForSpecialPrice"/>
        <seeElement selector="{{AdminProductFormAdvancedPricingSection.specialPrice}}" stepKey="checkSpecialPriceElement"/>
        <grabAttributeFrom userInput="id" selector="{{AdminProductFormAdvancedPricingSection.specialPrice}}" stepKey="grabIdAttributeFromInputSpecialPrice"/>
        <seeElement selector="label[for='{$grabIdAttributeFromInputSpecialPrice}'] > span" stepKey="checkSpecialPriceLabelSpanElement"/>
        <grabTextFrom selector="label.admin__addon-prefix[for='{$grabIdAttributeFromInputSpecialPrice}'] > span" stepKey="getSpecialPriceCurrencySymbol"/>
        <assertEquals stepKey="assertSpecialPriceCurrencySymbol">
            <expectedResult type="string">$</expectedResult>
            <actualResult type="variable">$getSpecialPriceCurrencySymbol</actualResult>
        </assertEquals>
    </test>
</tests>
