<?php
/**
 * Copyright Â© Magento, Inc. All rights reserved.
 * See COPYING.txt for license details.
 */

/** @var $block \Magento\Cms\Block\Adminhtml\Wysiwyg\Images\Content\Files */
/** @var \Magento\Framework\View\Helper\SecureHtmlRenderer $secureRenderer */

$_width  = $block->getImagesWidth();
$_height = $block->getImagesHeight();

?>
<?php if ($block->getFilesCount() > 0): ?>
    <?php foreach ($block->getFiles() as $file): ?>
    <div
        data-row="file"
        class="filecnt"
        id="<?= $block->escapeHtmlAttr($block->getFileId($file)) ?>"
        data-size="<?= $block->escapeHtmlAttr($file->getSize()) ?>"
        data-mime-type="<?= $block->escapeHtmlAttr($file->getMimeType()) ?>"
    >
        <p class="nm" id="<?= $block->escapeHtmlAttr($block->getFileId($file)) ?>_nm">
        <?= /* @noEscape */ $secureRenderer->renderStyleAsTag(
            'height:' . $block->escapeHtmlAttr($_height) . 'px;',
            '#' . $block->escapeHtmlAttr($block->getFileId($file)) . '_nm'
        ) ?>
        <?php if ($block->getFileThumbUrl($file)): ?>
            <img src="<?= $block->escapeHtmlAttr($block->getFileThumbUrl($file)) ?>"
                 alt="<?= $block->escapeHtmlAttr($block->getFileName($file)) ?>"/>
        <?php endif; ?>
        </p>
        <?php if ($block->getFileWidth($file)): ?>
            <small><?= $block->escapeHtml($block->getFileWidth($file))
            ?>x<?= $block->escapeHtml($block->getFileHeight($file)) ?> <?= $block->escapeHtml(__('px.')) ?>
            </small><br/>
        <?php endif; ?>
        <small><?= $block->escapeHtml($block->getFileShortName($file)) ?></small>
    </div>
    <?php endforeach; ?>
<?php else: ?>
    <div class="empty"><?= $block->escapeHtml(__('No files found')) ?></div>
<?php endif; ?>
